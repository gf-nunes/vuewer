{"ast":null,"code":"let apikey = '';\nasync function _fetch(url) {\n  let headers = {};\n  if (apikey) {\n    headers['authorization'] = `token ${apikey}`;\n  }\n  return fetch(url, {\n    headers: headers\n  });\n}\nasync function fetch_all_pages(url) {\n  let vaiindo = true;\n  let result = [];\n  let page = 1;\n  while (vaiindo) {\n    const response = await _fetch(`${url}?page=${page}`);\n    const tmpitems = await response.json();\n    if (tmpitems.length > 0) {\n      result = result.concat(tmpitems);\n      page++;\n    } else {\n      vaiindo = false;\n    }\n  }\n  return result;\n}\nexport const api = {\n  set_apikey(k) {\n    apikey = k;\n    console.log();\n  },\n  async search_users(searchstring) {\n    const url = `https://api.github.com/search/users?q=${searchstring}`;\n    const response = await _fetch(url);\n    return await response.json();\n  },\n  async lista_repos(username) {\n    const url = `https://api.github.com/users/${username}/repos`;\n    const data = await fetch_all_pages(url);\n    return data;\n  },\n  async listaIssues(owner, name, page) {\n    const url = `https://api.github.com/repos/${owner}/${name}/issues?page=${page}`;\n    const response = await _fetch(url);\n    return await response.json();\n  }\n};","map":{"version":3,"names":["apikey","_fetch","url","headers","fetch","fetch_all_pages","vaiindo","result","page","response","tmpitems","json","length","concat","api","set_apikey","k","console","log","search_users","searchstring","lista_repos","username","data","listaIssues","owner","name"],"sources":["/home/gislanenunes/Documentos/BuserTech-2.0/github_vuewer/src/api/api.js"],"sourcesContent":["let apikey = ''\n\nasync function _fetch(url){\n    let headers = {}\n    if (apikey) {\n        headers['authorization'] = `token ${apikey}`\n    }\n    return fetch(url, {headers: headers})\n}\n\nasync function fetch_all_pages(url){\n    let vaiindo = true\n    let result = []\n    let page = 1\n    while(vaiindo){\n        const response = await _fetch(`${url}?page=${page}`)\n        const tmpitems = await response.json()\n        if(tmpitems.length > 0){\n            result = result.concat(tmpitems)\n            page++\n        } else {\n            vaiindo = false\n        }\n    }\n    return result\n}\n\nexport const api = {\n    set_apikey(k){\n        apikey = k\n        console.log()\n    },\n    async search_users(searchstring){\n        const url = `https://api.github.com/search/users?q=${searchstring}`\n        const response = await _fetch(url)\n        return await response.json()\n    },\n    async lista_repos(username){\n        const url = `https://api.github.com/users/${username}/repos`\n        const data = await fetch_all_pages(url)\n        return data\n    },\n    async listaIssues(owner, name, page) {\n        const url = `https://api.github.com/repos/${owner}/${name}/issues?page=${page}`\n        const response = await _fetch(url)\n        return await response.json()\n    }\n}\n"],"mappings":"AAAA,IAAIA,MAAM,GAAG,EAAE;AAEf,eAAeC,MAAM,CAACC,GAAG,EAAC;EACtB,IAAIC,OAAO,GAAG,CAAC,CAAC;EAChB,IAAIH,MAAM,EAAE;IACRG,OAAO,CAAC,eAAe,CAAC,GAAI,SAAQH,MAAO,EAAC;EAChD;EACA,OAAOI,KAAK,CAACF,GAAG,EAAE;IAACC,OAAO,EAAEA;EAAO,CAAC,CAAC;AACzC;AAEA,eAAeE,eAAe,CAACH,GAAG,EAAC;EAC/B,IAAII,OAAO,GAAG,IAAI;EAClB,IAAIC,MAAM,GAAG,EAAE;EACf,IAAIC,IAAI,GAAG,CAAC;EACZ,OAAMF,OAAO,EAAC;IACV,MAAMG,QAAQ,GAAG,MAAMR,MAAM,CAAE,GAAEC,GAAI,SAAQM,IAAK,EAAC,CAAC;IACpD,MAAME,QAAQ,GAAG,MAAMD,QAAQ,CAACE,IAAI,EAAE;IACtC,IAAGD,QAAQ,CAACE,MAAM,GAAG,CAAC,EAAC;MACnBL,MAAM,GAAGA,MAAM,CAACM,MAAM,CAACH,QAAQ,CAAC;MAChCF,IAAI,EAAE;IACV,CAAC,MAAM;MACHF,OAAO,GAAG,KAAK;IACnB;EACJ;EACA,OAAOC,MAAM;AACjB;AAEA,OAAO,MAAMO,GAAG,GAAG;EACfC,UAAU,CAACC,CAAC,EAAC;IACThB,MAAM,GAAGgB,CAAC;IACVC,OAAO,CAACC,GAAG,EAAE;EACjB,CAAC;EACD,MAAMC,YAAY,CAACC,YAAY,EAAC;IAC5B,MAAMlB,GAAG,GAAI,yCAAwCkB,YAAa,EAAC;IACnE,MAAMX,QAAQ,GAAG,MAAMR,MAAM,CAACC,GAAG,CAAC;IAClC,OAAO,MAAMO,QAAQ,CAACE,IAAI,EAAE;EAChC,CAAC;EACD,MAAMU,WAAW,CAACC,QAAQ,EAAC;IACvB,MAAMpB,GAAG,GAAI,gCAA+BoB,QAAS,QAAO;IAC5D,MAAMC,IAAI,GAAG,MAAMlB,eAAe,CAACH,GAAG,CAAC;IACvC,OAAOqB,IAAI;EACf,CAAC;EACD,MAAMC,WAAW,CAACC,KAAK,EAAEC,IAAI,EAAElB,IAAI,EAAE;IACjC,MAAMN,GAAG,GAAI,gCAA+BuB,KAAM,IAAGC,IAAK,gBAAelB,IAAK,EAAC;IAC/E,MAAMC,QAAQ,GAAG,MAAMR,MAAM,CAACC,GAAG,CAAC;IAClC,OAAO,MAAMO,QAAQ,CAACE,IAAI,EAAE;EAChC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}